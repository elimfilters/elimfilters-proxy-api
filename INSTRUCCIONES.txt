â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  INSTRUCCIONES - DEPLOYMENT PROXY v3.0.0                     â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âš ï¸  IMPORTANTE: DEBES ELIMINAR ARCHIVOS VIEJOS PRIMERO

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

OPCIÃ“N 1: DEPLOYMENT VÃA GITHUB (RECOMENDADO)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

PASO 1: Clonar o abrir tu repositorio de GitHub
   cd ruta/a/elimfilters-proxy-api

PASO 2: ELIMINAR TODOS LOS ARCHIVOS VIEJOS
   # En Windows:
   del /Q *.*
   rmdir /S /Q config

   # En Mac/Linux:
   rm -rf *
   rm -rf .*

PASO 3: Copiar TODOS los archivos de este ZIP
   - Copiar TODO el contenido de este ZIP
   - Pegar en el directorio del repositorio

PASO 4: Verificar que server.js tenga v3.0.0
   # Abrir server.js
   # Buscar lÃ­nea 62: version: '3.0.0',

PASO 5: Commit y Push
   git add .
   git commit -m "Deploy v3.0.0 - Limpio"
   git push origin main

PASO 6: Esperar 2-3 minutos que Railway detecte cambios

PASO 7: VERIFICAR
   curl https://elimfilters-proxy-api-production.up.railway.app/health
   
   Debe mostrar: "version": "3.0.0"

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

OPCIÃ“N 2: DEPLOYMENT DIRECTO EN RAILWAY
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

PASO 1: Ir a Railway Dashboard
   https://railway.app/

PASO 2: Seleccionar tu proyecto
   elimfilters-proxy-api

PASO 3: Settings â†’ Delete Service
   (Eliminar servicio completamente)

PASO 4: Create New Service â†’ From GitHub
   Seleccionar: elimfilters/elimfilters-proxy-api

PASO 5: Subir archivos de este ZIP al repo de GitHub primero
   (Ver OpciÃ³n 1)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âš ï¸  EL PROBLEMA QUE TENÃAS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

âŒ Railway estÃ¡ usando v2.4.0 porque los archivos viejos 
   estÃ¡n mezclados con los nuevos en GitHub.

âœ… SoluciÃ³n: ELIMINAR archivos viejos antes de copiar nuevos

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‹ CHECKLIST
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

[ ] Archivos viejos eliminados del repo
[ ] Archivos nuevos copiados del ZIP
[ ] Verificado server.js â†’ version: '3.0.0'
[ ] git push ejecutado
[ ] Railway detectÃ³ cambios (ver Activity en dashboard)
[ ] curl /health muestra "version": "3.0.0"
[ ] Probar: curl -X POST /api/detect-filter -d '{"code":"P552100"}'

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… VARIABLES DE ENTORNO EN RAILWAY
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

MANTENER:
   GOOGLE_SHEETS_ID=1ZYI5c0enkuvWAveu8HMaCUk1cek_VDrX8GtgKW7VP6U
   GOOGLE_CREDENTIALS=<tu_json>
   PORT=3000

ELIMINAR:
   N8N_WEBHOOK_URL  â† Ya no se usa

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ†˜ AYUDA
â”€â”€â”€â”€â”€â”€â”€â”€

Si despuÃ©s de hacer estos pasos Railway sigue mostrando v2.4.0:

1. Ve a Railway Dashboard
2. Deployments â†’ Ver Ãºltimo deployment
3. Logs â†’ Verificar que no hay errores
4. Redeploy manual si es necesario

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

VersiÃ³n de este paquete: 3.0.0
Fecha: 2025-10-29
Reglas: v2.2.3 (16 combinaciones correctas)
Sin n8n: âœ…
